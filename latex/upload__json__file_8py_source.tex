\doxysection{upload\+\_\+json\+\_\+file.\+py}
\hypertarget{upload__json__file_8py_source}{}\label{upload__json__file_8py_source}\index{scheduleFunctions/views/upload\_json\_file.py@{scheduleFunctions/views/upload\_json\_file.py}}
\mbox{\hyperlink{upload__json__file_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00001}\mbox{\hyperlink{namespaceschedule_functions_1_1views_1_1upload__json__file}{00001}}\ \textcolor{keyword}{from}\ django.http\ \textcolor{keyword}{import}\ JsonResponse}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00002}00002\ \textcolor{keyword}{from}\ django.conf\ \textcolor{keyword}{import}\ settings}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00003}00003\ \textcolor{keyword}{from}\ django.views.decorators.csrf\ \textcolor{keyword}{import}\ csrf\_exempt}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00004}00004\ \textcolor{keyword}{import}\ json}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00005}00005\ \textcolor{keyword}{from}\ ..models\ \textcolor{keyword}{import}\ FilteredUpload}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00006}00006\ \textcolor{keyword}{from}\ ..to\_database\ \textcolor{keyword}{import}\ store\_schedule,\ clear\_schedule}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00007}00007\ \textcolor{keyword}{from}\ django.core.files.storage\ \textcolor{keyword}{import}\ default\_storage}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00008}00008\ \textcolor{keyword}{from}\ django.core.files.base\ \textcolor{keyword}{import}\ ContentFile}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00009}00009\ \textcolor{keyword}{from}\ datetime\ \textcolor{keyword}{import}\ datetime}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00010}00010\ \textcolor{keyword}{import}\ os}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00012}00012\ \textcolor{comment}{\#\ Constants}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00013}\mbox{\hyperlink{namespaceschedule_functions_1_1views_1_1upload__json__file_a38726d702d44d974215e8b345e2e0d2d}{00013}}\ SUBJECTS\_OF\_INTEREST\ =\ \{\textcolor{stringliteral}{"{}CIST"{}},\ \textcolor{stringliteral}{"{}CSCI"{}}\}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00014}\mbox{\hyperlink{namespaceschedule_functions_1_1views_1_1upload__json__file_ad4da1683b1f05ded90f517e6bc78c7c9}{00014}}\ NON\_CS\_SUBJECTS\_OF\_INTEREST\ =\ \{\textcolor{stringliteral}{"{}ENGL"{}},\ \textcolor{stringliteral}{"{}MATH"{}},\ \textcolor{stringliteral}{"{}CMST"{}}\}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00015}\mbox{\hyperlink{namespaceschedule_functions_1_1views_1_1upload__json__file_a4e98a5a7a3cac913a68f9b02e51eb722}{00015}}\ NON\_CS\_COURSES\_OF\_INTEREST\ =\ \{}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00016}00016\ \ \ \ \ \textcolor{stringliteral}{"{}engl1150"{}},}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00017}00017\ \ \ \ \ \textcolor{stringliteral}{"{}cmst1110"{}},}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00018}00018\ \ \ \ \ \textcolor{stringliteral}{"{}cmst2120"{}},}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00019}00019\ \ \ \ \ \textcolor{stringliteral}{"{}math1950"{}},}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00020}00020\ \ \ \ \ \textcolor{stringliteral}{"{}engl1160"{}},}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00021}00021\ \ \ \ \ \textcolor{stringliteral}{"{}math2050"{}},}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00022}00022\ \}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00024}00024\ \textcolor{comment}{\#\ ===\ Convert\ filtered\ to\ ASP\ facts\ ===}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00032}\mbox{\hyperlink{namespaceschedule_functions_1_1views_1_1upload__json__file_aac090a52fc4def28253778347ad1e6a6}{00032}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespaceschedule_functions_1_1views_1_1upload__json__file_aac090a52fc4def28253778347ad1e6a6}{convert24}}(time):}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00033}00033\ \ \ \ \ t\ =\ datetime.strptime(time,\ \textcolor{stringliteral}{"{}\%I:\%M\%p"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00034}00034\ \ \ \ \ \textcolor{keywordflow}{return}\ t.hour\ *\ 60\ +\ t.minute}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00042}\mbox{\hyperlink{namespaceschedule_functions_1_1views_1_1upload__json__file_a52ea246c3add5f2fdde9da73a6d2ddc4}{00042}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespaceschedule_functions_1_1views_1_1upload__json__file_a52ea246c3add5f2fdde9da73a6d2ddc4}{convert\_json\_to\_lp}}(schedule\_list):}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00043}00043\ \ \ \ \ facts\ =\ []}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00044}00044\ \ \ \ \ non\_cs\_classes,\ classes,\ rooms,\ professors,\ non\_cs\_times,\ times\ =\ (}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00045}00045\ \ \ \ \ \ \ \ \ set(),}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00046}00046\ \ \ \ \ \ \ \ \ set(),}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00047}00047\ \ \ \ \ \ \ \ \ set(),}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00048}00048\ \ \ \ \ \ \ \ \ set(),}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00049}00049\ \ \ \ \ \ \ \ \ set(),}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00050}00050\ \ \ \ \ \ \ \ \ set(),}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00051}00051\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00052}00052\ \ \ \ \ \textcolor{keywordflow}{for}\ term,\ subjects\ \textcolor{keywordflow}{in}\ schedule\_list.items():}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00053}00053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ subject,\ courses\ \textcolor{keywordflow}{in}\ subjects.items():}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00054}00054\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ course\_num,\ course\_info\ \textcolor{keywordflow}{in}\ courses.items():}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00055}00055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ course\_id\ =\ (}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00056}00056\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}\{subject\}\{course\_num\}"{}}.lower()}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00057}00057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .replace(\textcolor{stringliteral}{"{}\ "{}},\ \textcolor{stringliteral}{"{}\_"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00058}00058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .replace(\textcolor{stringliteral}{"{}."{}},\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00059}00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .replace(\textcolor{stringliteral}{"{}-\/"{}},\ \textcolor{stringliteral}{"{}\_"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00060}00060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00061}00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00062}00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ subject\ \textcolor{keywordflow}{in}\ NON\_CS\_SUBJECTS\_OF\_INTEREST}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00063}00063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{and}\ course\_id\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ NON\_CS\_COURSES\_OF\_INTEREST}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00064}00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00065}00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00066}00066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ title\ =\ (}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00067}00067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ course\_info.get(\textcolor{stringliteral}{"{}title"{}},\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00068}00068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .lower()}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00069}00069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .replace(\textcolor{stringliteral}{"{}\ "{}},\ \textcolor{stringliteral}{"{}\_"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .replace(\textcolor{stringliteral}{"{}."{}},\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00071}00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .replace(\textcolor{stringliteral}{"{}-\/"{}},\ \textcolor{stringliteral}{"{}\_"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00072}00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00073}00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ prereq\ =\ (}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00074}00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ \ \ \ course\_info.get("{}prereq"{},\ "{}none"{})}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00075}00075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ \ \ \ .lower()}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00076}00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ \ \ \ .replace("{}\ "{},\ "{}\_"{})}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00077}00077\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ \ \ \ .replace("{}-\/"{},\ "{}\_"{})}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00078}00078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ \ \ \ .replace("{}."{},\ "{}"{})}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00079}00079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ )}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00081}00081\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ keep\ track\ of\ \ how\ many\ sections\ are\ totally\ online}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00082}00082\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ if\ they\ are\ all\ totally\ online,\ skip\ the\ course}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00083}00083\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ section\_count\ =\ 0}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00084}00084\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ totally\_online\_count\ =\ 0}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00085}00085\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ section\_num,\ section\_info\ \textcolor{keywordflow}{in}\ course\_info.get(}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00086}00086\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}sections"{}},\ \{\}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00087}00087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ).items():}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00088}00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ section\_count\ +=\ 1}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00089}00089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ section\_num\ =\ \textcolor{stringliteral}{"{}s"{}}\ +\ section\_num.lower()}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00090}00090\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ class\_number\ =\ (}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00091}00091\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}c"{}}\ +\ section\_info.get(\textcolor{stringliteral}{"{}Class\ Number"{}},\ \textcolor{stringliteral}{"{}"{}}).split()[0].lower()}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00092}00092\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00093}00093\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00094}00094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ time\ =\ section\_info.get(\textcolor{stringliteral}{"{}Time"{}},\ \textcolor{stringliteral}{"{}TBA"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00095}00095\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ time\ ==\ \textcolor{stringliteral}{"{}TBA"{}}:}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00096}00096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ start,\ end\ =\ \textcolor{stringliteral}{"{}tba"{}},\ \textcolor{stringliteral}{"{}tba"{}}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00097}00097\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00098}00098\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ start,\ end\ =\ time.split(\textcolor{stringliteral}{"{}\ -\/\ "{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00099}00099\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ start\ =\ \mbox{\hyperlink{namespaceschedule_functions_1_1views_1_1upload__json__file_aac090a52fc4def28253778347ad1e6a6}{convert24}}(start)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00100}00100\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ end\ =\ \mbox{\hyperlink{namespaceschedule_functions_1_1views_1_1upload__json__file_aac090a52fc4def28253778347ad1e6a6}{convert24}}(end)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00102}00102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ days\ =\ (}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00103}00103\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ section\_info.get(\textcolor{stringliteral}{"{}Days"{}},\ \textcolor{stringliteral}{"{}TBA"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00104}00104\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .strip()}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00105}00105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .lower()}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00106}00106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .replace(\textcolor{stringliteral}{"{}\ "{}},\ \textcolor{stringliteral}{"{}\_"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00107}00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .replace(\textcolor{stringliteral}{"{}-\/"{}},\ \textcolor{stringliteral}{"{}\_"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00108}00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00109}00109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ location\ =\ (}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00110}00110\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ section\_info.get(\textcolor{stringliteral}{"{}Location"{}},\ \textcolor{stringliteral}{"{}Unknown"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00111}00111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .lower()}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00112}00112\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .replace(\textcolor{stringliteral}{"{}\ "{}},\ \textcolor{stringliteral}{"{}\_"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00113}00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .replace(\textcolor{stringliteral}{"{}."{}},\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00114}00114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .replace(\textcolor{stringliteral}{"{}-\/"{}},\ \textcolor{stringliteral}{"{}\_"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00115}00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ instructor\ =\ (}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ section\_info.get(\textcolor{stringliteral}{"{}Instructor"{}},\ \textcolor{stringliteral}{"{}Unknown"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00118}00118\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .lower()}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .replace(\textcolor{stringliteral}{"{}\ "{}},\ \textcolor{stringliteral}{"{}\_"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00120}00120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .replace(\textcolor{stringliteral}{"{}."{}},\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00121}00121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .replace(\textcolor{stringliteral}{"{}-\/"{}},\ \textcolor{stringliteral}{"{}\_"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00122}00122\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00123}00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ credits\ =\ section\_info.get(\textcolor{stringliteral}{"{}Credit\ Hours"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00124}00124\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00125}00125\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00126}00126\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ location\ \textcolor{keywordflow}{in}\ \{\textcolor{stringliteral}{"{}totally\_online"{}},\ \textcolor{stringliteral}{"{}to\_be\_announced"{}}\}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00127}00127\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{or}\ start\ ==\ \textcolor{stringliteral}{"{}tba"{}}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00128}00128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00129}00129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ totally\_online\_count\ +=\ 1}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00130}00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00131}00131\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00132}00132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ if\ we\ are\ a\ class\ that\ we\ can\ modify}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00133}00133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ subject\ \textcolor{keywordflow}{in}\ SUBJECTS\_OF\_INTEREST:}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00134}00134\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ facts.append(}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00135}00135\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}section(\{course\_id\},\ \{section\_num\},\ \{class\_number\},\ \{start\},\ \{end\},\ \{days\},\ \{location\},\ \{instructor\})."{}}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00136}00136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00137}00137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rooms.add(location)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00138}00138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ professors.add(instructor)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00139}00139\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ start\ !=\ \textcolor{stringliteral}{"{}tba"{}}\ \textcolor{keywordflow}{and}\ end\ !=\ \textcolor{stringliteral}{"{}tba"{}}\ \textcolor{keywordflow}{and}\ days\ !=\ \textcolor{stringliteral}{"{}tba"{}}:}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00140}00140\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ times.add(}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00141}00141\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}time\_slot\_credits(\{start\},\ \{end\},\ \{days\},\ \{credits\})."{}}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00142}00142\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00143}00143\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ else\ we\ are\ a\ class\ like\ english\ or\ math\ and\ we\ cannot\ modify\ the\ time}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00144}00144\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00145}00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ facts.append(}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00146}00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}non\_cs\_section(\{course\_id\},\ \{section\_num\},\ \{class\_number\},\ \{start\},\ \{end\},\ \{days\},\ \{location\},\ \{instructor\})."{}}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00147}00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00148}00148\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ start\ !=\ \textcolor{stringliteral}{"{}tba"{}}\ \textcolor{keywordflow}{and}\ end\ !=\ \textcolor{stringliteral}{"{}tba"{}}\ \textcolor{keywordflow}{and}\ days\ !=\ \textcolor{stringliteral}{"{}tba"{}}:}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00149}00149\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ non\_cs\_times.add(}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00150}00150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}non\_cs\_time\_slot(\{start\},\ \{end\},\ \{days\})."{}}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00151}00151\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00152}00152\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00153}00153\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ ignore\ courses\ that\ are\ entirely\ comprised\ of\ totally\ online\ sections}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00154}00154\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ totally\_online\_count\ ==\ section\_count:}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00155}00155\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00156}00156\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00157}00157\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ if\ we\ are\ a\ class\ that\ we\ can\ modify}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00158}00158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ subject\ \textcolor{keywordflow}{in}\ SUBJECTS\_OF\_INTEREST:}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00159}00159\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ facts.append(f'course(\{course\_id\},\ "{}\{title\}"{}).')}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00160}00160\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ weight\ =\ 1}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00161}00161\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ str(course\_num).startswith(\textcolor{stringliteral}{"{}1"{}}):}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00162}00162\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ year\ =\ 1}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00163}00163\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ str(course\_num).startswith(\textcolor{stringliteral}{"{}2"{}}):}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00164}00164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ year\ =\ 2}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00165}00165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ str(course\_num).startswith(\textcolor{stringliteral}{"{}3"{}}):}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00166}00166\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ year\ =\ 3}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00167}00167\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ str(course\_num).startswith(\textcolor{stringliteral}{"{}4"{}}):}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00168}00168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ year\ =\ 4}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00169}00169\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ str(course\_num).startswith(\textcolor{stringliteral}{"{}8"{}})\ \textcolor{keywordflow}{or}\ str(course\_num).startswith(}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00170}00170\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}9"{}}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00171}00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00172}00172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ year\ =\ 5}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00173}00173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00174}00174\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ year\ =\ 0}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00175}00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00176}00176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}Error\ for\ course\ id:\ \{course\_id\}\ with\ course\ number:\ \{course\_num\}"{}}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00177}00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00178}00178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ facts.append(f\textcolor{stringliteral}{"{}course\_year(\{course\_id\},\ \{year\})."{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00179}00179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ classes.add(course\_id)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00180}00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ else\ we\ are\ a\ class\ like\ english\ or\ math\ and\ we\ cannot\ modify\ the\ time}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00181}00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00182}00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ facts.append(f'non\_cs\_course(\{course\_id\},\ "{}\{title\}"{}).')}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00183}00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ weight\ =\ 1}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00184}00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ str(course\_num).startswith(\textcolor{stringliteral}{"{}1"{}}):}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00185}00185\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ year\ =\ 1}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00186}00186\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ str(course\_num).startswith(\textcolor{stringliteral}{"{}2"{}}):}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00187}00187\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ year\ =\ 2}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00188}00188\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ str(course\_num).startswith(\textcolor{stringliteral}{"{}3"{}}):}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00189}00189\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ year\ =\ 3}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00190}00190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ str(course\_num).startswith(\textcolor{stringliteral}{"{}4"{}}):}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00191}00191\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ year\ =\ 4}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00192}00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ str(course\_num).startswith(\textcolor{stringliteral}{"{}8"{}})\ \textcolor{keywordflow}{or}\ str(course\_num).startswith(}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00193}00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}9"{}}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00194}00194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ):}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00195}00195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ year\ =\ 5}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00196}00196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00197}00197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ year\ =\ 0}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00198}00198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00199}00199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f\textcolor{stringliteral}{"{}Error\ for\ course\ id:\ \{course\_id\}\ with\ course\ number:\ \{course\_num\}"{}}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00200}00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00201}00201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ facts.append(f\textcolor{stringliteral}{"{}course\_year(\{course\_id\},\ \{year\})."{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00202}00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ non\_cs\_classes.add(course\_id)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00203}00203\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00204}00204\ \ \ \ \ facts.append(f\textcolor{stringliteral}{"{}class(\{';\ '.join(classes)\})."{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00205}00205\ \ \ \ \ facts.append(f\textcolor{stringliteral}{"{}non\_cs\_class(\{';\ '.join(non\_cs\_classes)\})."{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00206}00206\ \ \ \ \ facts.append(f\textcolor{stringliteral}{"{}room(\{';\ '.join(rooms)\})."{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00207}00207\ \ \ \ \ facts.append(f\textcolor{stringliteral}{"{}professor(\{';\ '.join(professors)\})."{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00208}00208\ \ \ \ \ facts.extend(times)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00209}00209\ \ \ \ \ facts.extend(non\_cs\_times)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00210}00210\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00211}00211\ \ \ \ \ \textcolor{keywordflow}{return}\ facts}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00212}00212\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00213}00213\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00214}00214\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00222}00222\ \textcolor{preprocessor}{@csrf\_exempt}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00223}\mbox{\hyperlink{namespaceschedule_functions_1_1views_1_1upload__json__file_a3496c76d0998b496dcff05ceb251319f}{00223}}\ \textcolor{keyword}{def\ }upload\_json\_file(request):}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00224}00224\ \ \ \ \ \textcolor{keywordflow}{if}\ request.method\ !=\ \textcolor{stringliteral}{"{}POST"{}}:}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00225}00225\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ JsonResponse(\{\textcolor{stringliteral}{"{}error"{}}:\ \textcolor{stringliteral}{"{}Only\ POST\ method\ is\ allowed"{}}\},\ status=405)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00226}00226\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00227}00227\ \ \ \ \ uploaded\_file\ =\ request.FILES.get(\textcolor{stringliteral}{"{}file"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00228}00228\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ uploaded\_file:}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00229}00229\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ JsonResponse(\{\textcolor{stringliteral}{"{}error"{}}:\ \textcolor{stringliteral}{"{}No\ file\ provided"{}}\},\ status=400)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00230}00230\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00231}00231\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ uploaded\_file.name.lower().endswith(\textcolor{stringliteral}{"{}.json"{}}):}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00232}00232\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ JsonResponse(\{\textcolor{stringliteral}{"{}error"{}}:\ \textcolor{stringliteral}{"{}Only\ .json\ files\ are\ allowed"{}}\},\ status=400)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00233}00233\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00234}00234\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00235}00235\ \ \ \ \ \ \ \ \ file\_contents\ =\ uploaded\_file.read()}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00236}00236\ \ \ \ \ \ \ \ \ data\ =\ json.loads(file\_contents)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00237}00237\ \ \ \ \ \ \ \ \ uploaded\_file.seek(0)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00238}00238\ \ \ \ \ \textcolor{keywordflow}{except}\ json.JSONDecodeError:}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00239}00239\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ JsonResponse(\{\textcolor{stringliteral}{"{}error"{}}:\ \textcolor{stringliteral}{"{}Invalid\ JSON\ format"{}}\},\ status=400)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00240}00240\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00241}00241\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ data:}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00242}00242\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ JsonResponse(\{\textcolor{stringliteral}{"{}error"{}}:\ \textcolor{stringliteral}{"{}Empty\ JSON\ file"{}}\},\ status=400)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00243}00243\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00244}00244\ \ \ \ \ \textcolor{comment}{\#\ ===\ Filtering\ ===}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00245}00245\ \ \ \ \ latest\_block\ =\ max(data.keys())}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00246}00246\ \ \ \ \ filtered\_courses\ =\ \{latest\_block:\ \{\}\}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00247}00247\ \ \ \ \ non\_filtered\_courses\ =\ \{latest\_block:\ \{\}\}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00248}00248\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00249}00249\ \ \ \ \ \textcolor{keywordflow}{for}\ subject,\ courses\ \textcolor{keywordflow}{in}\ data[latest\_block].items():}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00250}00250\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ subject\ \textcolor{keywordflow}{in}\ SUBJECTS\_OF\_INTEREST\ \textcolor{keywordflow}{or}\ subject\ \textcolor{keywordflow}{in}\ NON\_CS\_SUBJECTS\_OF\_INTEREST:}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00251}00251\ \ \ \ \ \ \ \ \ \ \ \ \ filtered\_courses[latest\_block][subject]\ =\ courses}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00252}00252\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00253}00253\ \ \ \ \ \ \ \ \ \ \ \ \ non\_filtered\_courses[latest\_block][subject]\ =\ courses}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00254}00254\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00255}00255\ \ \ \ \ \textcolor{comment}{\#\ ===\ Save\ all\ three\ JSON\ versions\ ===}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00256}00256\ \ \ \ \ upload\_number\ =\ FilteredUpload.objects.count()\ +\ 1}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00257}00257\ \ \ \ \ print(\textcolor{stringliteral}{'Root:'},settings.BASE\_DIR)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00258}00258\ \ \ \ \ print(\textcolor{stringliteral}{'Media'},settings.MEDIA\_ROOT)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00259}00259\ \ \ \ \ raw\_filename\ =\ os.path.join(f\textcolor{stringliteral}{"{}uploads"{}},f\textcolor{stringliteral}{"{}raw\_input\{upload\_number\}.json"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00260}00260\ \ \ \ \ filtered\_filename\ =\ os.path.join(f\textcolor{stringliteral}{"{}uploads"{}},f\textcolor{stringliteral}{"{}filtered\_output\{upload\_number\}.json"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00261}00261\ \ \ \ \ non\_filtered\_filename\ =\ os.path.join(f\textcolor{stringliteral}{"{}uploads"{}},f\textcolor{stringliteral}{"{}remaining\_output\{upload\_number\}.json"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00262}00262\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00263}00263\ \ \ \ \ print(raw\_filename)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00264}00264\ \ \ \ \ default\_storage.save(raw\_filename,\ ContentFile(file\_contents))}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00265}00265\ \ \ \ \ print(filtered\_filename)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00266}00266\ \ \ \ \ default\_storage.save(}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00267}00267\ \ \ \ \ \ \ \ \ filtered\_filename,\ ContentFile(json.dumps(filtered\_courses,\ indent=2))}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00268}00268\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00269}00269\ \ \ \ \ print(non\_filtered\_filename)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00270}00270\ \ \ \ \ default\_storage.save(}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00271}00271\ \ \ \ \ \ \ \ \ non\_filtered\_filename,\ ContentFile(json.dumps(non\_filtered\_courses,\ indent=2))}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00272}00272\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00273}00273\ \ \ \ \ clear\_schedule()}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00274}00274\ \ \ \ \ store\_schedule(os.path.join(settings.MEDIA\_ROOT,filtered\_filename))}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00275}00275\ \ \ \ \ \textcolor{comment}{\#\ Save\ model}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00276}00276\ \ \ \ \ record\ =\ FilteredUpload.objects.create(}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00277}00277\ \ \ \ \ \ \ \ \ filename=f\textcolor{stringliteral}{"{}raw\_input\{upload\_number\}.json"{}},}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00278}00278\ \ \ \ \ \ \ \ \ filtered\_data=filtered\_courses,}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00279}00279\ \ \ \ \ \ \ \ \ non\_filtered\_data=non\_filtered\_courses,}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00280}00280\ \ \ \ \ \ \ \ \ uploaded\_file=uploaded\_file,}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00281}00281\ \ \ \ \ )}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00282}00282\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00283}00283\ \ \ \ \ facts\ =\ \mbox{\hyperlink{namespaceschedule_functions_1_1views_1_1upload__json__file_a52ea246c3add5f2fdde9da73a6d2ddc4}{convert\_json\_to\_lp}}(filtered\_courses)}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00284}00284\ }
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00285}00285\ \ \ \ \ asp\_filename\ =\ raw\_filename.replace(\textcolor{stringliteral}{"{}.json"{}},\ \textcolor{stringliteral}{"{}.lp"{}})}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00286}00286\ \ \ \ \ default\_storage.save(asp\_filename,\ ContentFile(\textcolor{stringliteral}{"{}\(\backslash\)n"{}}.join(facts)))}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00287}00287\ \ \ \ \ request.session[\textcolor{stringliteral}{"{}asp\_filename"{}}]\ =\ asp\_filename}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00288}00288\ \ \ \ \ \textcolor{keywordflow}{return}\ JsonResponse(}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00289}00289\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00290}00290\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}message"{}}:\ f\textcolor{stringliteral}{"{}Upload\ and\ conversion\ \#\{upload\_number\}\ complete."{}},}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00291}00291\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}raw\_file"{}}:\ raw\_filename,}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00292}00292\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}filtered\_file"{}}:\ filtered\_filename,}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00293}00293\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}non\_filtered\_file"{}}:\ non\_filtered\_filename,}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00294}00294\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}asp\_file"{}}:\ asp\_filename,}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00295}00295\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{upload__json__file_8py_source_l00296}00296\ \ \ \ \ )}

\end{DoxyCode}
